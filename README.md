local Players = game:GetService("Players") local PhysicsService = game:GetService("PhysicsService") local LocalPlayer = Players.LocalPlayer local Character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait() local Humanoid = Character:FindFirstChildWhichIsA("Humanoid") -- Create a custom collision group local function setupCollisionGroups() PhysicsService:CreateCollisionGroup("NoPlayerCollision") PhysicsService:CollisionGroupSetCollidable("NoPlayerCollision", "Default", false) end -- Assign character parts to the custom collision group local function assignCollisionGroup() for _, part in pairs(Character:GetDescendants()) do if part:IsA("BasePart") then PhysicsService:SetPartCollisionGroup(part, "NoPlayerCollision") end end end setupCollisionGroups() assignCollisionGroup() -- Handle character respawn LocalPlayer.CharacterAdded:Connect(function(newCharacter) Character = newCharacter Humanoid = Character:FindFirstChildWhichIsA("Humanoid") assignCollisionGroup() end) -- Function to make the player sit mid-air local function sitMidAir() local sitAnim = Instance.new("Animation") sitAnim.AnimationId = "rbxassetid://129342287" -- Replace with your sit animation ID local sitTrack = Humanoid:LoadAnimation(sitAnim) sitTrack:Play() Humanoid.Sit = true end -- Function to enable tpwalk 3.4 (example implementation) local function enableTpWalk() while true do if Humanoid.MoveDirection.Magnitude > 0 then Character:SetPrimaryPartCFrame(Character.PrimaryPart.CFrame + Humanoid.MoveDirection * 3.4) end wait(0.1) end end -- Configure character properties based on rig type if Humanoid.RigType == Enum.HumanoidRigType.R6 then Humanoid.WalkSpeed = 20 Humanoid.JumpPower = 0 Character.Animate.walk.WalkAnim.AnimationId = "rbxassetid://129342287" Character.Animate.run.RunAnim.AnimationId = "rbxassetid://129342287" Character.Animate.fall.FallAnim.AnimationId = "rbxassetid://129342287" Character.Animate.idle.Animation1.AnimationId = "rbxassetid://129342287" Character.Animate.idle.Animation2.AnimationId = "rbxassetid://129342287" Character.Animate.jump.JumpAnim.AnimationId = "rbxassetid://129342287" for _, part in pairs(Character:GetDescendants()) do if part:IsA("Part") then part.CustomPhysicalProperties = PhysicalProperties.new(0.04, 0, 0) end end Humanoid.HipHeight = -1.03 elseif Humanoid.RigType == Enum.HumanoidRigType.R15 then Humanoid.WalkSpeed = 20 Humanoid.JumpPower = 0 Character.Animate.walk.WalkAnim.AnimationId = "rbxassetid://3360694441" Character.Animate.run.RunAnim.AnimationId = "rbxassetid://3360694441" Character.Animate.fall.FallAnim.AnimationId = "rbxassetid://3360694441" Character.Animate.idle.Animation1.AnimationId = "rbxassetid://3360694441" Character.Animate.idle.Animation2.AnimationId = "rbxassetid://3360694441" Character.Animate.jump.JumpAnim.AnimationId = "rbxassetid://3360694441" for _, part in pairs(Character:GetDescendants()) do if part:IsA("MeshPart") then part.CustomPhysicalProperties = PhysicalProperties.new(0.04, 0, 0) end end Humanoid.HipHeight = 0.56 end -- Align the item with ID 15047641374 local function alignItem() local item = game:GetService("InsertService"):LoadAsset(15047641374) item.Parent = Character local primaryPart = item.PrimaryPart or item:FindFirstChildWhichIsA("BasePart") if primaryPart then primaryPart.CFrame = Character.PrimaryPart.CFrame * CFrame.new(0, 0, -2) -- Position the item in front of the character primaryPart.CFrame = CFrame.new(primaryPart.Position) * CFrame.Angles(0, 0, 0) -- Reset rotation to align straight end end -- Start sitting mid-air and tpwalk sitMidAir() spawn(enableTpWalk) alignItem()
